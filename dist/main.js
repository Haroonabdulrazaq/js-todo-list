(()=>{const t=(t,e)=>{e.forEach((e=>{t.appendChild(e)}))},e=(t,e)=>{const r=document.createElement(t);return r.innerHTML=e,r},r=t=>{const e=document.createElement("div");return e.setAttribute("class",t),e},n=(t,e="")=>{const r=document.createElement(t);return""!=e&&r.setAttribute("class",e),r},o=t=>({title:t,tasks:[]}),c=[],a=document.querySelector(".project-list"),i=o=>{const i=r("project"),s=c.indexOf(o);i.setAttribute("p-index",s);const d=e("h3",o.title),l=n("button","del-project");l.innerHTML="Delete Project";const u=n("ul","task-list"),p=document.createElement("div"),m=document.createElement("form");let h=document.createElement("input");h.setAttribute("type","text");let g=n("input","task-submit");g.setAttribute("type","submit"),g.setAttribute("value","Add Task"),t(m,[h,g]),t(p,[u,m]),t(i,[d,l,p]),a.appendChild(i)},s=document.querySelector(".add-project"),d=document.querySelector(".new-project-form");s.addEventListener("click",(()=>{d.classList.toggle("hide")})),document.querySelector(".create-project-btn").addEventListener("click",(t=>{const e=document.querySelector(".new-project-name").value;if(e.length>0){let t=o(e);c.push(t),document.querySelector(".project-list").innerHTML="",c.forEach(i)}})),document.querySelector(".project-list").addEventListener("click",(function(o){if(o.target&&o.target.matches("button.del-project")){const t=o.target.parentNode.getAttribute("p-index");c.splice(t,1),document.querySelector(".project-list").innerHTML="",c.forEach(i)}if(o.target&&o.target.matches("input.task-submit")){o.target.parentNode.parentNode.firstChild;const a=o.target.parentNode.firstChild.value,i=o.target.parentNode.parentNode.firstChild,s=o.target.parentNode.parentNode.parentNode.getAttribute("p-index"),d=c[s];if(""!=a.length){const t=((t,e="",r="",n="",o=!1,c="default")=>({title:t,description:e,dueDate:r,priority:n,completed:o,project:"default"}))(a);d.tasks.push(t)}d.tasks.length>0&&(i.innerHTML="",d.tasks.forEach((o=>{const c=n("li"),a=r("task-div"),s=d.tasks.indexOf(o);a.setAttribute("t-index",s);const l=e("p",o.title),u=n("button","task-del");u.innerHTML="Delete Task",t(a,[l,u]),c.appendChild(a),i.appendChild(c)})))}if(o.target&&o.target.matches("button.task-del")){const t=o.target.parentNode.getAttribute("t-index"),e=o.target.parentNode.parentNode.parentNode.parentNode.parentNode.getAttribute("p-index");c[e].tasks.splice(t,1)}}));const l=o("Project 1");c.push(l),c.forEach(i)})();
(()=>{const t=(t,e)=>{e.forEach((e=>{t.appendChild(e)}))},e=(t,e)=>{const n=document.createElement(t);return n.innerHTML=e,n},n=t=>{const e=document.createElement("div");return e.setAttribute("class",t),e},c=(t,e="")=>{const n=document.createElement(t);return""!=e&&n.setAttribute("class",e),n},r=[],o=document.querySelector(".project-list"),i=i=>{const s=n("project"),l=r.indexOf(i);s.setAttribute("p-index",l);const d=e("h3",i.title),u=c("button","del-project");u.innerHTML="Delete Project";const a=c("ul","task-list"),p=document.createElement("div"),m=document.createElement("form");let h=document.createElement("input");h.setAttribute("type","text");let f=c("input","task-submit");f.setAttribute("type","submit"),f.setAttribute("value","Add Task"),t(m,[h,f]),t(p,[a,m]),t(s,[d,u,p]),o.appendChild(s),f.onclick=function(){this.parentNode.parentNode.firstChild;const r=this.parentNode.firstChild.value;if(""!=r.length){const t=((t,e="",n="",c="",r=!1,o="default")=>({title:t,description:e,dueDate:n,priority:c,completed:r,project:"default"}))(r);i.tasks.push(t)}i.tasks.length>0&&(a.innerHTML="",i.tasks.forEach((r=>{c("li");const o=n("task-div"),i=e("p",r.title);t(o,[i]),a.appendChild(o)})))}},s=document.querySelector(".add-project"),l=document.querySelector(".new-project-form");s.addEventListener("click",(()=>{l.classList.toggle("hide")})),document.querySelector(".create-project-btn").addEventListener("click",(t=>{const e=document.querySelector(".new-project-name").value;if(e.length>0){let t={title:e,tasks:[]};r.push(t),document.querySelector(".project-list").innerHTML="",r.forEach(i)}})),document.querySelector(".project-list").addEventListener("click",(function(t){if(t.target&&t.target.matches("button.del-project")){const e=t.target.parentNode.getAttribute("p-index");console.log(e),r.splice(e,1),document.querySelector(".project-list").innerHTML="",r.forEach(i)}}))})();
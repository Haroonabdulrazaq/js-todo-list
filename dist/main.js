(()=>{const t=(t,e)=>{e.forEach((e=>{t.appendChild(e)}))},e=(t,e)=>{const r=document.createElement(t);return r.innerHTML=e,r},r=t=>{const e=document.createElement("div");return e.setAttribute("class",t),e},n=(t,e="")=>{const r=document.createElement(t);return""!=e&&r.setAttribute("class",e),r},c=t=>({title:t,tasks:[]}),o=[],i=document.querySelector(".project-list"),s=c=>{const s=r("project"),a=o.indexOf(c);s.setAttribute("p-index",a);const d=e("h3",c.title),l=n("button","del-project");l.innerHTML="Delete Project";const u=n("ul","task-list"),p=document.createElement("div"),m=document.createElement("form");let h=document.createElement("input");h.setAttribute("type","text");let f=n("input","task-submit");f.setAttribute("type","submit"),f.setAttribute("value","Add Task"),t(m,[h,f]),t(p,[u,m]),t(s,[d,l,p]),i.appendChild(s)},a=document.querySelector(".add-project"),d=document.querySelector(".new-project-form");a.addEventListener("click",(()=>{d.classList.toggle("hide")})),document.querySelector(".create-project-btn").addEventListener("click",(t=>{const e=document.querySelector(".new-project-name").value;if(e.length>0){let t=c(e);o.push(t),document.querySelector(".project-list").innerHTML="",o.forEach(s)}})),document.querySelector(".project-list").addEventListener("click",(function(c){if(c.target&&c.target.matches("button.del-project")){const t=c.target.parentNode.getAttribute("p-index");o.splice(t,1),document.querySelector(".project-list").innerHTML="",o.forEach(s)}if(c.target&&c.target.matches("input.task-submit")){c.target.parentNode.parentNode.firstChild;const i=c.target.parentNode.firstChild.value,s=c.target.parentNode.parentNode.firstChild,a=c.target.parentNode.parentNode.parentNode.getAttribute("p-index"),d=o[a];if(""!=i.length){const t=((t,e="",r="",n="",c=!1,o="default")=>({title:t,description:e,dueDate:r,priority:n,completed:c,project:"default"}))(i);d.tasks.push(t)}d.tasks.length>0&&(console.log(d.tasks),s.innerHTML="",d.tasks.forEach((c=>{n("li");const o=r("task-div"),i=e("p",c.title);t(o,[i]),s.appendChild(o)})))}}));const l=c("Project 1");o.push(l),o.forEach(s)})();